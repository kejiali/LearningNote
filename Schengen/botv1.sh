#/bin/bash

#Denmark
printf "\r\n"
printf "Denmark Schengen Visa Slots:\r\n"

#Need to sort out the cookies and __RequestVerificationToken  expire in next version, the difficulty is captcha while login to vfsglobal.
#Below is the example, expired __RequestVerificationToken. 
#curl -s 'https://online.vfsglobal.com/Global-Appointment/Account/GetEarliestVisaSlotDate' -H 'Cookie: .ASPXFORMSAUTH=EE1B737B35537C43DDF63AF2F6208EF7447A93DFE77AB35C8B7EF5CED83B407D6663701602ACF787DBF7ECA372041A84B5233C18A60EE393E6D7A48C1E767A9F2DBAB4B2FBEC6D5F64FBB72168A49EAA0EAD9F99DCE955FF4A0CEFEC2603BD0167F6F81CB59E3F98DB2899030AD9FABF0B2D8807253795C03D72521C3B5CE4177E86016A6B868532F45B23F9653D20F26FC49F52BF61FB820A3B783BF450B23F66C3488EE48A8D1B108C512E2FD53C4F39B8438C1720E54906F8A711D7855BF264A33623304115D920621EE454DF216DAC4A96B1E37F92B86094FC9E5232DC78C5A81EDD571F541462C1B58508C71E3F84C835F3CC4E33E76D2B4A2D338ED3CA142C451D3435D319B5E5AC9F4701A9AB4428935A92ED80D6FDC01C2854CE7BE61A07E6AFE73B5C57E2F282FB5A321A4664A3D45823B458654A2F39804F9C59D8D336E50542D489B790F9FE520D18C22E4CA25CE8258064E664693BD0EABF34C3B403311B7FA372FC73F15EF714E4C93BD310F9470C0D8B36036DD655DCD75F8287C8C6752E7F87B0984E603D50064977F7CFFB4B7785F2A4DDACD3C2E0874635550B96C0DD391AF1FD61C97FD3B69B21A570CF667DD55EECECFC6B294373A919909F18CC5898EBC9B148FC9A4FCE7D03FBDEDE68F6A67ABCB235D3B1820E0F36B353DFE153836E8833BD099A93FBB9B568BA79561AB7B6612D62E11DB932C771C0B0D857330C77C4466940CAEB3F29E5B5BCBA282C316D741731D28D821DB866B8F38684A0FD5BB797149B34C2D95F206880EE11467CD42658575B2139FA99C476BF4BF2C54BD060F40891221EF91C3556AFC50ED589DFB5DE4437F95F152AEEBB7E3C1F34DC8183A991A1564E52FAC0072E8F75265B90E6D022E5CA9C3EEC982710E5F489594A7FA55D18B7D3A775369E9858B698E2430CE0E09CD7BEF92FF18ACCD21109835B650042C11A3348FD01EC321BFB1AB1175F424FE85A896DE3D2A5296CB33A30667A804296B6B903635CB5F21BCEF4C00D04F3C3DF520365A5A736A915898AF5F76C66D09B45893BB6C9162EB0D75A387D8BE0521E655B7F2303D106F8DE647D1EDEB8AF6F751A21D5B9C264361385A9DE69A418E4C5C16FA742DAAD5971850CDCE31592393656BAC3D2730A5032; ASP.NET_SessionId=gxtpzyhheqwhdervjkjyvpna; __RequestVerificationToken_L0dsb2JhbC1BcHBvaW50bWVudA2=hn_UVFBFkpxbPTAg0A0PtwWk3aR8WKpJmfdaK7nbdgNzmB29b3MtQ_EeiD4lVtn9m49ar5IIjcLQcGDq1ei52fYmPKo1; _ga=GA1.2.1212239802.1563359865; _gid=GA1.2.1338744026.1563359865; _Role=Individual; _culture=en-US; _gat=1; .ASPXFORMSAUTH=A9640EC44A2FB7029F8FF8020FF99B0CA49BEF2A814C3C366E2D20AAA8D3CD81E9A369F33E3DEC576CEAB1C907C4CD472CFEC4EFC3F1E137E5C06DDEB34665DBAC27303F2086392DA6B8BC80105B1DD17750CAB794F4CC0F51F706EF24F44110794D7C33543347171E2E17BA4622CB0F17D21FC71A0A137019D8B62B43FA6A7F3DD31480921DB56DC279C6B9320DC5AB519B39607766CC78F16E9C1A1B8205A9CA8E725946CD9E4A11AF373077B591FE074DCA80; _gat_gtag_UA_109988838_1=1' -H 'Origin: https://online.vfsglobal.com' -H 'Accept-Encoding: gzip, deflate, br' -H 'Accept-Language: en-GB,en;q=0.9,en-US;q=0.8,zh-CN;q=0.7,zh;q=0.6,ga;q=0.5,zh-TW;q=0.4' -H 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.142 Safari/537.36' -H 'Content-Type: application/x-www-form-urlencoded; charset=UTF-8' -H 'Accept: application/json, text/javascript, */*; q=0.01' -H 'Referer: https://online.vfsglobal.com/Global-Appointment/Home/SelectVAC?q=dePiaPfL2MJ7yDPEmQRU6fRZbx3aIpSal6PdG3Bxqq7rSNU6HabciCVot9dEwkhd' -H 'X-Requested-With: XMLHttpRequest' -H 'Connection: keep-alive' -H '__RequestVerificationToken: mXGPYLrpb1nfucDBmAZ9ohmVLfO8I-ewSEJCtd1Fc6jxzqhOA1IJaOqubPHs_jkDmiY73dw25Sh_G8THR4NKITvwSIligLccgpgTTX-bxXxlusA-0' --data 'countryId=104&missionId=32&LocationId=758&VisaCategoryId=2331' --compressed | jq -r ".StandardDate"
#RequestVerificationToken="CRqYfDEQNp_urNgcOEV22UMwymYxLCQkvMrkyh7dFiD5ujSxnjso-Tj2_UDhMyKe7hRbQoNdOLNHgxAVYhvwtK8BhOs1"
curl -s 'https://online.vfsglobal.com/Global-Appointment/Account/GetEarliestVisaSlotDate' -H 'Cookie: .ASPXFORMSAUTH=8355B944EE83A88D80C0522D5E5B3E3F606A5DD323D0F88EA4579272018975184498DE282A62B44C5B1A4DE34E5ED0F34120EF51DFC9A7D9348A2730E57A2D40A8EEDCA5F0C85C98254D4A0873D80580223C3AF504469E07025CD13BF65B2F005E7A7D15284D408460182A6C8ADB2F55B270ACCEF6F7BC0EE73644990E062BA6354FCB71DDB26BAC0EA223ED23B0F40B7670BD293B9D6C0904B5A17FFBE5D184FD016541AE5554A608E05636A034479ACB68B845871843031233E4D93A6630CE34329142DC90B6669E7E0B6297016EBDBDB58A27C67842B942005BB4B8A694422B59B76AFC1C2A171FCCCA61EC3105414AFA8329A90A935B0EAB20AB1E207EC74E2BF5AE055B8B824546222F6468B61DB13BF87EBC68DD3CD9735F9F7860E9653FE2B12B99B0FA6BF6F8D4C7A383A6F23A219F27B384DB210F7133A6EC735B9B0CCFC76469100625D43CCC096E5DE13562AD05EBCA809389F7E533DA50F0C2290016FBA2C7225D90FFFD7C5FA122B3F25FD55C67201F768CBD301520075AA689F9E590071FCCBB0188CFFCA27CC8CC328882097DC2D88911F669B11072FB9871F84CF0DADA0B70C4B7B1A70C6E69C12B140CEE85A2990A55DCDD5270090CC271143FF9D699867AC38BD2DDF482FB565F7D3CB770CAA849B9A412EE3B66F597CE36038C321842CA667979F336BD1D4D737C2334FE1D09A996008385A53B4A127868F7E05FCDFCE18BF9B11E37C11E827F2A18DCA635215DDD72C1C0D495DA2C5AB78DCDD358EC84B0181E31B519339B562551EC7534E582CF5F91CC21C1BE3A70C129014F14655C7715C2196C695F67EE0E6DCB883E4E969AE938B0FDE2F14DCC80ADF92DFEC7AE0D9B9BC466D549E904356604863C60BCD2DEF0F8C55A955EC95C61EF1EBFA4AC6C853E8AA068478904271828D868D2D2477BFC5358FEE73BFD0063C10621C71210B03D4B85952EE605180EEA188E9DABBD714754BE8E7E8CD7494559F65179A9B429BAD8825B524EC0CD88F8A72EC07AE9FC4A961B98C75BA9BAEBF3D98C7016BCB0AEC5550557752678D6324387141EF4501DFCA11CFEF19224B87AD5407416A4EFD380F2E103211D3F677135DB10A28E74E66FD4116DE7F0C0D979A6352A7DD26192167C8BA2665085399FBE; ASP.NET_SessionId=gxtpzyhheqwhdervjkjyvpna; __RequestVerificationToken_L0dsb2JhbC1BcHBvaW50bWVudA2=hn_UVFBFkpxbPTAg0A0PtwWk3aR8WKpJmfdaK7nbdgNzmB29b3MtQ_EeiD4lVtn9m49ar5IIjcLQcGDq1ei52fYmPKo1; _ga=GA1.2.1212239802.1563359865; _gid=GA1.2.1338744026.1563359865; _Role=Individual; _culture=en-US; .ASPXFORMSAUTH=BB9BECE1534F613333E8216A7B9C4C97BA9D58B351982986C3476DF3CAFD26F721037F9D82632E27BA1EDA40CD44BDEB3D2E90C335C207D530261CA604B8344F91A711D39D36A22D318D8E977709E883F07F8852E0C49A3BC4620E593C0EA68F4803A0599D33E62AAC5CEE2FEC06B7ED66E244D300BF3FFE9FA0B98DABE32C256262A66C1DAFDBB2F476A9EC9E611778A395DBA5A508742AEE39B986579F3AA1ECF26D28ED35E4319C804A073D7ABAE976667041; _gat_gtag_UA_109988838_1=1' -H 'Origin: https://online.vfsglobal.com' -H 'Accept-Encoding: gzip, deflate, br' -H 'Accept-Language: en-GB,en;q=0.9,en-US;q=0.8,zh-CN;q=0.7,zh;q=0.6,ga;q=0.5,zh-TW;q=0.4' -H 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.142 Safari/537.36' -H 'Content-Type: application/x-www-form-urlencoded; charset=UTF-8' -H 'Accept: application/json, text/javascript, */*; q=0.01' -H 'Referer: https://online.vfsglobal.com/Global-Appointment/Home/SelectVAC?q=dePiaPfL2MJ7yDPEmQRU6fRZbx3aIpSal6PdG3Bxqq7rSNU6HabciCVot9dEwkhd' -H 'X-Requested-With: XMLHttpRequest' -H 'Connection: keep-alive' -H '__RequestVerificationToken: 94XnT4IetQja9wlm3cd4rubhY2DAFAFoIDZRMDnV7mBaMSIxLWN3rPVHt8anr6W5YudnSINqR4DXM3E19fNxhPKIAedHseOe3DBNrvkdVlcdF-ws0' --data 'countryId=104&missionId=32&LocationId=758&VisaCategoryId=2331' --compressed | jq -r ".StandardDate"
printf "\r\n"

#Belgium

printf "Belgium Schengen Visa Slots: \r\n"
curl -s 'https://appointment.diplomatie.be/Home/AvailableDates/?officeId=69bb7c28-5ebc-4c4c-9350-2fb145c87f9f&serviceIds=81476ede-fbf1-466d-aa69-7c38e5f4369a&_=1563354350000' -H 'Cookie: PreferredCulture=en-US; __RequestVerificationToken=JWHTGLQGuikVUyVZf7ni-MTbSio5kjur6BHtsSztRnb6zo288YbBFOoFr79JP9rLArr9TAxt4cCvNm3hrctVuSZPtssvgzmLQZt9btHMbbc1; _ga=GA1.2.1591722372.1563353898; _gid=GA1.2.227528741.1563353898; _gat=1' -H 'Accept-Encoding: gzip, deflate, br' -H 'Accept-Language: en-GB,en;q=0.9,en-US;q=0.8,zh-CN;q=0.7,zh;q=0.6,ga;q=0.5,zh-TW;q=0.4' -H 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.142 Safari/537.36' -H 'Accept: */*' -H 'Referer: https://appointment.diplomatie.be/Home/Index/69bb7c28-5ebc-4c4c-9350-2fb145c87f9f' -H 'X-Requested-With: XMLHttpRequest' -H 'Connection: keep-alive' --compressed | jq -r ".dataObject.dates"
